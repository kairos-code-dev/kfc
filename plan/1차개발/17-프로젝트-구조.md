# kotlin-krx 프로젝트 구조

> **목적**: kotlin-krx 라이브러리의 디렉토리 구조, 패키지 구조, 파일 명명 규칙 정의
> **작성일**: 2025-01-18
> **버전**: v1.0

---

## 목차

1. [디렉토리 구조](#1-디렉토리-구조)
2. [패키지 구조](#2-패키지-구조)
3. [파일 명명 규칙](#3-파일-명명-규칙)
4. [모듈 구성](#4-모듈-구성)
5. [빌드 설정](#5-빌드-설정)

---

## 1. 디렉토리 구조

### 1.1 전체 구조

```
kotlin-krx/
├── src/
│   ├── main/
│   │   ├── kotlin/
│   │   │   └── dev/
│   │   │       └── kairoscode/
│   │   │           └── kfc/
│   │   │               ├── api/              # Public API 인터페이스
│   │   │               ├── model/            # 데이터 클래스
│   │   │               ├── internal/         # 내부 구현
│   │   │               └── exception/        # 예외 클래스
│   │   └── resources/
│   │       └── logback.xml
│   └── test/
│       ├── kotlin/
│       │   └── dev/
│       │       └── kairoscode/
│       │           └── kfc/
│       │               ├── api/              # API 테스트
│       │               ├── integration/      # 통합 테스트
│       │               └── unit/             # 단위 테스트
│       └── resources/
│           ├── test-data/                        # 테스트 데이터
│           └── logback-test.xml
├── plan/                                         # 기획 문서
│   ├── 01-프로젝트-개요.md
│   ├── 02-KRX-ETF-엔드포인트-분석.md
│   ├── ...
│   └── 17-프로젝트-구조.md
├── scripts/                                      # 유틸리티 스크립트
│   └── generate-api-docs.kts
├── build.gradle.kts                              # Gradle 빌드 스크립트
├── settings.gradle.kts                           # Gradle 설정
├── gradle.properties                             # Gradle 프로퍼티
├── README.md                                     # 프로젝트 README
├── LICENSE                                       # 라이선스 파일
└── .gitignore
```

### 1.2 소스 코드 디렉토리 (`src/main/kotlin`)

```
src/main/kotlin/dev/kairoscode/kfc/
├── api/                                          # Public API
│   ├── krx/                                      # KRX API
│   │   ├── KrxEtfApi.kt                          # KRX ETF API (15 함수)
│   │   ├── KrxBondApi.kt                         # KRX 채권 API (향후)
│   │   └── KrxStockApi.kt                        # KRX 주식 API (향후)
│   │
│   ├── naver/                                    # Naver API
│   │   ├── NaverEtfApi.kt                        # Naver ETF API (1 함수)
│   │   └── NaverStockApi.kt                      # Naver 주식 API (향후)
│   │
│   ├── opendart/                                 # OPENDART API (공통)
│   │   └── OpenDartApi.kt                        # 모든 상품 공통 (6 함수)
│   │
│   └── KfcClient.kt                              # Facade (통합 API 클라이언트)
│
├── model/                                        # 데이터 클래스
│   ├── krx/                                      # KRX 모델
│   │   ├── etf/                                  # KRX ETF 모델 (15개)
│   │   │   ├── EtfListItem.kt
│   │   │   ├── EtfDetail.kt
│   │   │   ├── EtfSearchResult.kt
│   │   │   ├── EtfOhlcv.kt
│   │   │   ├── EtfDailyPrice.kt
│   │   │   ├── EtfPriceChange.kt
│   │   │   ├── PortfolioConstituent.kt
│   │   │   ├── TrackingError.kt
│   │   │   ├── DivergenceRate.kt
│   │   │   ├── InvestorTrading.kt
│   │   │   ├── InvestorTradingByDate.kt
│   │   │   ├── ShortSelling.kt
│   │   │   └── ShortBalance.kt
│   │   │
│   │   ├── bond/                                 # KRX 채권 모델 (향후)
│   │   │   └── (BondListItem.kt, BondYield.kt, ...)
│   │   │
│   │   └── stock/                                # KRX 주식 모델 (향후)
│   │       └── (StockListItem.kt, StockOhlcv.kt, ...)
│   │
│   ├── naver/                                    # Naver 모델
│   │   ├── etf/                                  # Naver ETF 모델 (1개)
│   │   │   └── AdjustedClose.kt
│   │   │
│   │   └── stock/                                # Naver 주식 모델 (향후)
│   │       └── (StockDailyPrice.kt, ...)
│   │
│   ├── opendart/                                 # OPENDART 모델 (6개)
│   │   ├── CorpCode.kt
│   │   ├── DividendInfo.kt
│   │   ├── StockSplitInfo.kt
│   │   ├── DisclosureItem.kt
│   │   ├── DisclosureListResponse.kt
│   │   └── enums/
│   │       ├── ReportCode.kt
│   │       ├── DividendType.kt
│   │       ├── SplitEventType.kt
│   │       └── PublicationType.kt
│   │
│   └── common/                                   # 공통 모델
│       ├── Ohlcv.kt                              # 공통 OHLCV 구조
│       └── TradingVolume.kt                      # 공통 거래량 구조
│
├── internal/                                     # 내부 구현 (Internal visibility)
│   ├── krx/                                      # KRX 내부 구현
│   │   ├── etf/
│   │   │   ├── KrxEtfApiImpl.kt                  # KRX ETF API 구현
│   │   │   ├── KrxEtfDataParser.kt               # KRX ETF 응답 파싱
│   │   │   ├── KrxDateRangeSplitter.kt           # 730일 자동 분할
│   │   │   └── KrxTypeConverter.kt               # 타입 변환 (String→Int)
│   │   │
│   │   ├── bond/                                 # KRX 채권 내부 구현 (향후)
│   │   │   └── (KrxBondApiImpl.kt, ...)
│   │   │
│   │   └── stock/                                # KRX 주식 내부 구현 (향후)
│   │       └── (KrxStockApiImpl.kt, ...)
│   │
│   ├── naver/                                    # Naver 내부 구현
│   │   ├── etf/
│   │   │   ├── NaverEtfApiImpl.kt                # Naver ETF API 구현
│   │   │   └── NaverEtfDataParser.kt             # Naver ETF 응답 파싱
│   │   │
│   │   └── stock/                                # Naver 주식 내부 구현 (향후)
│   │       └── (NaverStockApiImpl.kt, ...)
│   │
│   ├── opendart/                                 # OPENDART 내부 구현
│   │   ├── OpenDartApiImpl.kt                    # OPENDART API 구현
│   │   ├── OpenDartXmlParser.kt                  # XML 파싱 (corpCode.xml)
│   │   └── OpenDartZipHandler.kt                 # ZIP 압축 해제
│   │
│   └── http/                                     # HTTP 클라이언트 (공통)
│       ├── HttpClientFactory.kt                  # HTTP 클라이언트 생성
│       └── HttpRequestBuilder.kt                 # 요청 빌더
│
└── exception/                                    # 예외 클래스
    ├── KrxException.kt                           # KRX 예외
    ├── NaverException.kt                         # Naver 예외
    └── OpenDartException.kt                      # OPENDART 예외
```

### 1.3 테스트 디렉토리 (`src/test/kotlin`)

```
src/test/kotlin/dev/kairoscode/kfc/
├── api/                                          # API 테스트
│   ├── krx/
│   │   ├── KrxEtfApiTest.kt                      # KRX ETF API 테스트
│   │   ├── KrxBondApiTest.kt                     # KRX 채권 API 테스트 (향후)
│   │   └── KrxStockApiTest.kt                    # KRX 주식 API 테스트 (향후)
│   │
│   ├── naver/
│   │   ├── NaverEtfApiTest.kt                    # Naver ETF API 테스트
│   │   └── NaverStockApiTest.kt                  # Naver 주식 API 테스트 (향후)
│   │
│   ├── opendart/
│   │   └── OpenDartApiTest.kt                    # OPENDART API 테스트
│   │
│   └── KfcClientTest.kt                          # Facade 테스트
│
├── integration/                                  # 통합 테스트
│   ├── KrxEtfIntegrationTest.kt                  # KRX ETF 통합 테스트
│   ├── NaverEtfIntegrationTest.kt                # Naver ETF 통합 테스트
│   └── OpenDartIntegrationTest.kt                # OPENDART 통합 테스트
│
└── unit/                                         # 단위 테스트
    ├── krx/
    │   ├── KrxEtfDataParserTest.kt               # KRX ETF 파싱 로직 테스트
    │   ├── KrxTypeConverterTest.kt               # 타입 변환 테스트
    │   └── KrxDateRangeSplitterTest.kt           # 날짜 분할 테스트
    │
    ├── naver/
    │   └── NaverEtfDataParserTest.kt             # Naver ETF 파싱 로직 테스트
    │
    └── opendart/
        ├── OpenDartXmlParserTest.kt              # XML 파싱 테스트
        └── OpenDartZipHandlerTest.kt             # ZIP 압축 해제 테스트
```

---

## 2. 패키지 구조

### 2.1 패키지 명명 규칙

**기본 패키지**: `dev.kairoscode.kfc`

**프로젝트 정보**:
- 회사: Kairos
- 도메인: www.kairoscode.dev
- Git 계정: ulalax-kairos
- Git 이메일: ulalax@kairoscode.dev
- 제품명: kfc (Korea Finance Collector)

#### 2.1.1 API 패키지 (소스별 분류)

| 패키지 | 가시성 | 설명 |
|--------|-------|------|
| `dev.kairoscode.kfc.api` | `public` | Public API 인터페이스 |
| `dev.kairoscode.kfc.api.krx` | `public` | KRX API (ETF/채권/주식) |
| `dev.kairoscode.kfc.api.naver` | `public` | Naver API (ETF/주식) |
| `dev.kairoscode.kfc.api.opendart` | `public` | OPENDART API (공통) |

#### 2.1.2 모델 패키지 (소스별 + 상품별 계층)

| 패키지 | 가시성 | 설명 |
|--------|-------|------|
| `dev.kairoscode.kfc.model` | `public` | 데이터 클래스 |
| `dev.kairoscode.kfc.model.krx.etf` | `public` | KRX ETF 모델 |
| `dev.kairoscode.kfc.model.krx.bond` | `public` | KRX 채권 모델 (향후) |
| `dev.kairoscode.kfc.model.krx.stock` | `public` | KRX 주식 모델 (향후) |
| `dev.kairoscode.kfc.model.naver.etf` | `public` | Naver ETF 모델 |
| `dev.kairoscode.kfc.model.naver.stock` | `public` | Naver 주식 모델 (향후) |
| `dev.kairoscode.kfc.model.opendart` | `public` | OPENDART 모델 (상품 구분 없음) |
| `dev.kairoscode.kfc.model.common` | `public` | 공통 모델 |

#### 2.1.3 내부 구현 패키지 (소스별 + 상품별 계층)

| 패키지 | 가시성 | 설명 |
|--------|-------|------|
| `dev.kairoscode.kfc.internal` | `internal` | 내부 구현 (사용자 접근 불가) |
| `dev.kairoscode.kfc.internal.krx.etf` | `internal` | KRX ETF 내부 구현 |
| `dev.kairoscode.kfc.internal.krx.bond` | `internal` | KRX 채권 내부 구현 (향후) |
| `dev.kairoscode.kfc.internal.krx.stock` | `internal` | KRX 주식 내부 구현 (향후) |
| `dev.kairoscode.kfc.internal.naver.etf` | `internal` | Naver ETF 내부 구현 |
| `dev.kairoscode.kfc.internal.naver.stock` | `internal` | Naver 주식 내부 구현 (향후) |
| `dev.kairoscode.kfc.internal.opendart` | `internal` | OPENDART 내부 구현 |
| `dev.kairoscode.kfc.internal.http` | `internal` | HTTP 클라이언트 (공통) |

#### 2.1.4 예외 패키지

| 패키지 | 가시성 | 설명 |
|--------|-------|------|
| `dev.kairoscode.kfc.exception` | `public` | 예외 클래스 |

### 2.2 Import 예시

#### 2.2.1 Facade 사용 (권장)

```kotlin
// Facade API 사용 (단일 진입점)
import dev.kairoscode.kfc.api.KfcClient

// 사용 예시
val client = KfcClient.create()
val etfList = client.krx.etf.getEtfList()
val adjustedClose = client.naver.etf.getAdjustedClose(...)
val corpCodes = client.openDart.getCorpCodeList()
```

#### 2.2.2 개별 API 사용 (세밀한 제어)

```kotlin
// 개별 API 사용
import dev.kairoscode.kfc.api.krx.KrxEtfApi
import dev.kairoscode.kfc.api.naver.NaverEtfApi
import dev.kairoscode.kfc.api.opendart.OpenDartApi

// 모델 사용
import dev.kairoscode.kfc.model.krx.etf.EtfListItem
import dev.kairoscode.kfc.model.naver.etf.AdjustedClose
import dev.kairoscode.kfc.model.opendart.DividendInfo
import dev.kairoscode.kfc.model.common.Ohlcv

// 예외 처리
import dev.kairoscode.kfc.exception.KrxException
import dev.kairoscode.kfc.exception.NaverException
import dev.kairoscode.kfc.exception.OpenDartException

// Internal은 라이브러리 외부에서 접근 불가
// import dev.kairoscode.kfc.internal.krx.etf.KrxEtfApiImpl // ❌ 컴파일 에러
```

---

## 3. 파일 명명 규칙

### 3.1 클래스/인터페이스 파일

**규칙**: 파일명 = 클래스명 (PascalCase)

```kotlin
// ✅ 좋은 예
KrxEtfApi.kt             → interface KrxEtfApi
NaverEtfApi.kt           → interface NaverEtfApi
OpenDartApi.kt           → interface OpenDartApi
KrxApiClient.kt          → interface KrxApiClient (Facade)
EtfListItem.kt           → data class EtfListItem
KrxException.kt          → sealed class KrxException

// ❌ 나쁜 예
krx-etf-api.kt           → ❌ kebab-case 사용 금지
krxEtfApi.kt             → ❌ camelCase 사용 금지
KRXEtfApi.kt             → ❌ 약어도 PascalCase (Krx)
```

### 3.2 확장 함수 파일

**규칙**: `{타입}Extensions.kt` 또는 `{기능}Utils.kt`

```kotlin
StringExtensions.kt      → String.toKrxInt(), String.toKrxBigDecimal()
DateExtensions.kt        → LocalDate.toKrxFormat()
HttpUtils.kt             → buildKrxUrl(), buildNaverUrl()
```

### 3.3 테스트 파일

**규칙**: `{클래스명}Test.kt`

```kotlin
KrxEtfApiTest.kt         → class KrxEtfApiTest
NaverEtfApiTest.kt       → class NaverEtfApiTest
OpenDartApiTest.kt       → class OpenDartApiTest
KrxApiClientTest.kt      → class KrxApiClientTest (Facade 테스트)
EtfListItemTest.kt       → class EtfListItemTest
KrxEtfDataParserTest.kt  → class KrxEtfDataParserTest
```

### 3.4 리소스 파일

**규칙**: kebab-case

```
test-data/krx-etf-list-response.json
test-data/naver-adjusted-close-response.txt
test-data/opendart-corp-code-response.xml
```

---

## 4. 모듈 구성

### 4.1 단일 모듈 구조 (현재)

**이유**: 라이브러리 크기가 작고, 모든 API가 긴밀하게 연결됨

```
kotlin-krx/
└── build.gradle.kts (단일 모듈)
```

**장점**:
- 빌드 속도 빠름
- 의존성 관리 간단
- 배포 단순 (하나의 JAR)

### 4.2 멀티 모듈 구조 (향후)

**필요 시점**: 라이브러리가 커지거나 각 데이터 소스를 독립적으로 사용하고 싶을 때

#### 4.2.1 소스별 모듈 분리

```
kotlin-krx/
├── kotlin-krx-core/              # 공통 코드 (모델, 예외, HTTP)
│   └── build.gradle.kts
├── kotlin-krx-krx/               # KRX API (ETF/채권/주식)
│   └── build.gradle.kts
├── kotlin-krx-naver/             # Naver API (ETF/주식)
│   └── build.gradle.kts
├── kotlin-krx-opendart/          # OPENDART API
│   └── build.gradle.kts
├── kotlin-krx-all/               # 모든 모듈 포함
│   └── build.gradle.kts
└── settings.gradle.kts
```

**settings.gradle.kts**:
```kotlin
rootProject.name = "kotlin-krx"

include(
    ":kotlin-krx-core",
    ":kotlin-krx-krx",
    ":kotlin-krx-naver",
    ":kotlin-krx-opendart",
    ":kotlin-krx-all"
)
```

**의존성 관계**:
```
kotlin-krx-krx       → kotlin-krx-core
kotlin-krx-naver     → kotlin-krx-core
kotlin-krx-opendart  → kotlin-krx-core
kotlin-krx-all       → 모든 모듈
```

**사용 예시**:
```kotlin
// KRX API만 사용 (ETF/채권/주식 포함)
dependencies {
    implementation("io.github.ulalax:kotlin-krx-krx:1.0.0")
}

// Naver API만 사용
dependencies {
    implementation("io.github.ulalax:kotlin-krx-naver:1.0.0")
}

// 모든 API 사용
dependencies {
    implementation("io.github.ulalax:kotlin-krx-all:1.0.0")
}
```

#### 4.2.2 대안: 상품별 모듈 분리 (비권장)

소스별 분리가 더 합리적이지만, 상품별 분리도 가능:

```
kotlin-krx/
├── kotlin-krx-core/
├── kotlin-krx-etf/               # 모든 소스의 ETF API
├── kotlin-krx-bond/              # 모든 소스의 채권 API
├── kotlin-krx-stock/             # 모든 소스의 주식 API
└── kotlin-krx-all/
```

**비권장 이유**:
- ETF 모듈이 KRX, Naver, OPENDART에 모두 의존
- 소스 변경 시 여러 모듈 영향
- 의존성 복잡도 증가

---

## 5. 빌드 설정

### 5.1 build.gradle.kts

```kotlin
plugins {
    kotlin("jvm") version "2.0.21"
    kotlin("plugin.serialization") version "2.0.21"
    id("maven-publish")
}

group = "io.github.ulalax"
version = "1.0.0"

repositories {
    mavenCentral()
}

dependencies {
    // Kotlin 표준 라이브러리
    implementation(kotlin("stdlib"))

    // 코루틴
    implementation("org.jetbrains.kotlinx:kotlinx-coroutines-core:1.8.0")

    // HTTP 클라이언트
    implementation("io.ktor:ktor-client-core:3.3.2")
    implementation("io.ktor:ktor-client-cio:3.3.2")
    implementation("io.ktor:ktor-client-content-negotiation:3.3.2")
    implementation("io.ktor:ktor-serialization-kotlinx-json:3.3.2")

    // JSON 직렬화
    implementation("org.jetbrains.kotlinx:kotlinx-serialization-json:1.9.0")

    // 날짜/시간
    implementation("org.jetbrains.kotlinx:kotlinx-datetime:0.5.0")

    // 로깅
    implementation("io.github.oshai:kotlin-logging-jvm:5.1.0")
    implementation("ch.qos.logback:logback-classic:1.4.14")

    // 테스트
    testImplementation("org.junit.jupiter:junit-jupiter:5.10.1")
    testImplementation("org.assertj:assertj-core:3.24.2")
    testImplementation("io.mockk:mockk:1.13.8")
    testImplementation("org.jetbrains.kotlinx:kotlinx-coroutines-test:1.8.0")
}

tasks.test {
    useJUnitPlatform()
}

kotlin {
    jvmToolchain(21)
}

publishing {
    publications {
        create<MavenPublication>("maven") {
            from(components["java"])

            pom {
                name.set("kotlin-krx")
                description.set("Kotlin library for collecting KRX, Naver, and OPENDART ETF data")
                url.set("https://github.com/ulalax/kotlin-krx")

                licenses {
                    license {
                        name.set("MIT License")
                        url.set("https://opensource.org/licenses/MIT")
                    }
                }

                developers {
                    developer {
                        id.set("ulalax")
                        name.set("Ulalax")
                    }
                }

                scm {
                    url.set("https://github.com/ulalax/kotlin-krx")
                    connection.set("scm:git:git://github.com/ulalax/kotlin-krx.git")
                    developerConnection.set("scm:git:ssh://github.com/ulalax/kotlin-krx.git")
                }
            }
        }
    }
}
```

### 5.2 settings.gradle.kts

```kotlin
rootProject.name = "kotlin-krx"

pluginManagement {
    repositories {
        mavenCentral()
        gradlePluginPortal()
    }
}
```

### 5.3 gradle.properties

```properties
kotlin.code.style=official
kotlin.incremental=true
kotlin.caching.enabled=true

org.gradle.jvmargs=-Xmx2g -XX:+UseParallelGC
org.gradle.parallel=true
org.gradle.caching=true
```

### 5.4 .gitignore

```gitignore
# Gradle
.gradle/
build/
out/
bin/

# IntelliJ IDEA
.idea/
*.iml
*.ipr
*.iws

# Eclipse
.classpath
.project
.settings/

# macOS
.DS_Store

# Logs
*.log

# Test results
/test-results/
/test-output/
```

---

## 6. 파일 개수 및 규모

### 6.1 예상 파일 개수

| 카테고리 | 파일 수 | 예시 |
|---------|--------|------|
| **API 인터페이스** | 4 | KrxEtfApi, NaverEtfApi, OpenDartApi, KrxApiClient (Facade) |
| **데이터 모델** | 24 | EtfListItem, AdjustedClose, CorpCode, Ohlcv, TradingVolume, ... |
| **내부 구현** | 11 | KrxEtfApiImpl, NaverEtfApiImpl, OpenDartApiImpl, KrxEtfDataParser, ... |
| **예외 클래스** | 3 | KrxException, NaverException, OpenDartException |
| **테스트 파일** | 25+ | KrxEtfApiTest, NaverEtfApiTest, KrxApiClientTest, ... |
| **빌드 스크립트** | 3 | build.gradle.kts, settings.gradle.kts, gradle.properties |
| **문서** | 18 | plan/01 ~ plan/18 |
| **기타** | 3 | README.md, LICENSE, .gitignore |
| **총계** | **91+** | |

### 6.2 코드 라인 수 (예상)

| 카테고리 | LoC (예상) | 설명 |
|---------|-----------|------|
| API 인터페이스 | ~400 | 소스별 API (krx/naver/opendart) + Facade |
| 데이터 모델 | ~1,600 | ETF 모델 + 공통 모델 |
| 내부 구현 | ~2,700 | 소스별 구현 + 파싱 로직 |
| 예외 클래스 | ~200 | 소스별 예외 |
| 테스트 코드 | ~3,500 | API 테스트 + 통합 테스트 + 단위 테스트 |
| **총계** | **~8,400** | |

---

## 7. 디렉토리별 책임 요약

### 7.1 소스 코드 디렉토리

| 디렉토리 | 책임 | 가시성 | 파일 수 |
|---------|------|-------|--------|
| `api/krx/` | KRX API 정의 (ETF/채권/주식) | `public` | 1 (향후 3) |
| `api/naver/` | Naver API 정의 (ETF/주식) | `public` | 1 (향후 2) |
| `api/opendart/` | OPENDART API 정의 (공통) | `public` | 1 |
| `api/` | Facade (통합 API 클라이언트) | `public` | 1 |
| `model/krx/etf/` | KRX ETF 데이터 모델 | `public` | 13 |
| `model/naver/etf/` | Naver ETF 데이터 모델 | `public` | 1 |
| `model/opendart/` | OPENDART 데이터 모델 | `public` | 6 |
| `model/common/` | 공통 데이터 모델 | `public` | 2 |
| `internal/krx/etf/` | KRX ETF 내부 구현 | `internal` | 4 |
| `internal/naver/etf/` | Naver ETF 내부 구현 | `internal` | 2 |
| `internal/opendart/` | OPENDART 내부 구현 | `internal` | 3 |
| `internal/http/` | HTTP 클라이언트 (공통) | `internal` | 2 |
| `exception/` | 예외 클래스 | `public` | 3 |

### 7.2 테스트 디렉토리

| 디렉토리 | 책임 | 파일 수 |
|---------|------|--------|
| `test/api/krx/` | KRX API 테스트 | 1 (향후 3) |
| `test/api/naver/` | Naver API 테스트 | 1 (향후 2) |
| `test/api/opendart/` | OPENDART API 테스트 | 1 |
| `test/api/` | Facade 테스트 | 1 |
| `test/integration/` | 통합 테스트 | 3 |
| `test/unit/krx/` | KRX 단위 테스트 | 3 |
| `test/unit/naver/` | Naver 단위 테스트 | 1 |
| `test/unit/opendart/` | OPENDART 단위 테스트 | 2 |

---

## 8. 체크리스트

### 8.1 프로젝트 구조 검증

- [ ] 모든 Public API는 `api/` 패키지에 위치
- [ ] 모든 데이터 모델은 `model/` 패키지에 위치
- [ ] 모든 내부 구현은 `internal/` 패키지에 위치 (가시성 `internal`)
- [ ] 파일명은 PascalCase 사용
- [ ] 테스트 파일은 `{클래스명}Test.kt` 형식
- [ ] 리소스 파일은 kebab-case 사용
- [ ] .gitignore에 빌드 아티팩트 제외
- [ ] build.gradle.kts에 모든 의존성 정의
- [ ] README.md에 프로젝트 개요 작성

### 8.2 명명 규칙 검증

- [ ] 패키지명: lowercase (e.g., `io.github.ulalax.krx`)
- [ ] 클래스명: PascalCase (e.g., `KrxApiClient`)
- [ ] 함수명: camelCase (e.g., `getEtfList`)
- [ ] 변수명: camelCase (e.g., `etfList`)
- [ ] 상수명: UPPER_SNAKE_CASE (e.g., `BASE_URL`)
- [ ] 파일명: PascalCase (e.g., `KrxApiClient.kt`)

---

## 요약

### v1.0.0 핵심 디렉토리 (ETF 전용)

```
kotlin-krx/
├── src/main/kotlin/dev/kairoscode/kfc/
│   ├── api/                              # Public API
│   │   ├── krx/
│   │   │   └── KrxEtfApi.kt              # KRX ETF API (15 함수)
│   │   ├── naver/
│   │   │   └── NaverEtfApi.kt            # Naver ETF API (1 함수)
│   │   ├── opendart/
│   │   │   └── OpenDartApi.kt            # OPENDART API (6 함수)
│   │   └── KfcClient.kt                  # Facade
│   │
│   ├── model/                            # 데이터 클래스
│   │   ├── krx/etf/                      # KRX ETF 모델 (13개)
│   │   ├── naver/etf/                    # Naver ETF 모델 (1개)
│   │   ├── opendart/                     # OPENDART 모델 (6개)
│   │   └── common/                       # 공통 모델 (2개)
│   │
│   ├── internal/                         # 내부 구현 (internal)
│   │   ├── krx/etf/                      # KRX ETF 구현 (4개)
│   │   ├── naver/etf/                    # Naver ETF 구현 (2개)
│   │   ├── opendart/                     # OPENDART 구현 (3개)
│   │   └── http/                         # HTTP 클라이언트 (2개)
│   │
│   └── exception/                        # 예외 클래스 (3개)
│
├── src/test/kotlin/                      # 테스트
│   ├── api/                              # API 테스트
│   ├── integration/                      # 통합 테스트
│   └── unit/                             # 단위 테스트
│
├── plan/                                 # 18개 기획 문서
└── build.gradle.kts                      # Gradle 빌드
```

### 가시성 전략

- ✅ **Public**: `api/krx/`, `api/naver/`, `api/opendart/`, `model/`, `exception/`
- ✅ **Internal**: `internal/` (라이브러리 외부에서 접근 불가)

### 소스별 분류 구조

- **KRX**: `api/krx/`, `model/krx/etf/`, `internal/krx/etf/`
- **Naver**: `api/naver/`, `model/naver/etf/`, `internal/naver/etf/`
- **OPENDART**: `api/opendart/`, `model/opendart/`, `internal/opendart/`
- **공통**: `model/common/`, `internal/http/`

### 확장 가능 구조 (v2.0.0+)

현재 구조는 향후 확장 가능하도록 설계됨:
- `api/krx/KrxBondApi.kt`, `api/krx/KrxStockApi.kt` 추가 가능
- `model/krx/bond/`, `model/krx/stock/` 추가 가능
- Facade 구조로 기존 코드 영향 없이 확장

---

**작성일**: 2025-01-19
**버전**: v2.0 (소스별 분류 구조)
**작성자**: kotlin-krx 프로젝트
